

### 特权指令

不允许用户程序使用，如: 内存清零指令

### 非特权指令

允许用户程序使用，如: 普通的运算指令

### 处理器的两种状态

用程序状态字寄存器PSW种的某标志位来标识当前处理器处于什么状态

#### 用户态 (目态)

CPU只能执行非特权指令

#### 核心态 (管态)

特权指令，非特权指令都可以执行

### 两种程序

#### 内核程序

操作系统的内核程序是系统的管理者，既可以执行特权指令，也可以执行非特权指令，运行在核心态

#### 用户程序

为了保证系统能安全运行，普通应用程序只能执行非特权指令，运行在用户态



### 操作系统内核

<img src="../../images/计算机系统的结构层次.png">

内核是计算机配置的底层软件，是操作系统最基本，最核心的部分

实现操作系统内核功能的那些应用程序就是内核程序

操作系统内核包括:

- 时钟管理: 实现计时功能
- 中断功能: 负责实现中断机制
- 原语: 是一种特殊的程序, 处于操作系统最底层，是最接近硬件的部分，这种程序的运行具有原子性，其运行只能一气呵成，不可中断，运行时间较短，调用频繁
- 对系统资源进行管理的功能: 进程管理，存储器管理，设备管理

大内核: 将操作系统主要功能模块作为系统内核，运行在核心态   
优点: 高性能，缺点: 内核代码庞大，难以维护

微内核: 只把最基本的功能保留在内核
优点: 内核功能少，结构清晰，方便维护  缺点: 需要频繁地在核心态和用户态之间切换，性能低







